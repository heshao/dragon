<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>菜单管理</title>
        <link rel="stylesheet" th:href="@{/layuiadmin/layui/css/layui.css}" media="all">
        <script th:src="@{/layuiadmin/layui/layui.js}"></script>
    </head>
    <body>

        <div class="layui-card ">
        </div>

        <div class="layui-fluid">
            <div class="layui-row layui-col-space15">
                <div class="layui-col-md12">
                    <div class="layui-card">
                        <!--                        <div class="layui-card-header"></div>-->
                        <div class="layui-card-body">

                            <div class="test-table-reload-btn" style="margin-bottom: 10px;">
                                搜索ID：
                                <div class="layui-inline">
                                    <input class="layui-input" name="id" id="test-table-demoReload" autocomplete="off">
                                </div>
                                <button class="layui-btn" data-type="reload">搜索</button>
                            </div>

                            <table id="table" class="layui-table" lay-filter="table">

                            </table>


                        </div>

                    </div>
                </div>
            </div>
        </div>


    </body>
    <script th:src="@{/layuiadmin/layui/layui.js}"></script>
    <script th:inline="javascript">
        var ctx = /*[[@{/}]]*/'';

        layui.use("table", function () {
            var table = layui.table;

            var cols = [];
            cols.push([ //表头
                {field: 'id', title: 'ID', sort: true, fixed: 'left'},
                {field: 'name', title: '菜单名称'},
                {field: 'uri', title: '路径'},
                {field: 'enabled', title: '可用'},
                {field: 'visible', title: '可见'},
                {field: 'sort', title: '排序'}
            ]);

            table.render({
                elem: '#table'
                , url: ctx + 'menu/search' //数据接口
                , method: 'post'
                , page: true //开启分页
                , cols: cols
                , parseData: function (res) {
                    return {
                        "code": res.code, //解析接口状态
                        "msg": res.message, //解析提示文本
                        "count": res.body.totalElements, //解析数据长度
                        "data": res.body.content //解析数据列表
                    };
                }
            });
        })
    </script>
</html>